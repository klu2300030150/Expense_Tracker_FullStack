<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Xpense Pilot</title>
    <style>
      /* Simple loading state - will be hidden immediately when React mounts */
      #boot-msg { 
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        color:#6b7280;
        text-align:center;
        font-size: 1.2rem;
      }
      #boot-msg::after {
        content: '...';
        animation: dots 1.5s steps(4, end) infinite;
      }
      @keyframes dots {
        0%, 20% { content: ''; }
        40% { content: '.'; }
        60% { content: '..'; }
        80%, 100% { content: '...'; }
      }
    </style>
    <noscript>
      <style>#boot-msg{color:#ef4444}</style>
    </noscript>
    <script>
      // Show helpful message if something breaks before React mounts
      window.addEventListener('error', function(e){
        var m = document.getElementById('boot-msg');
        if (m) { m.textContent = 'Failed to load app: ' + (e.message || 'Unknown error'); m.style.color = '#ef4444'; }
      });
      window.addEventListener('unhandledrejection', function(e){
        var reason = e && e.reason;
        var msg = (reason && (reason.message || reason.statusText)) || String(reason || 'Unknown error');
        var m = document.getElementById('boot-msg');
        if (m) { m.textContent = 'App error: ' + msg; m.style.color = '#ef4444'; }
      });

      // Fallback: auto-hide boot message after 2500ms if app mounted
      setTimeout(function(){
        var m = document.getElementById('boot-msg');
        if (m && window.__APP_MOUNTED__) { m.style.display = 'none'; }
      }, 2500);
    </script>
  </head>
  <body>
    <div id="boot-msg">Loading</div>
    <div id="root"></div>
    <script type="module" src="src/main.jsx"></script>
  </body>
</html>